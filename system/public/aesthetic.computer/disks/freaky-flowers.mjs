// Freaky Flowers, 22.11.23.14.01
// This piece is a router that loads a specific Freaky Flower token in `wand` by
// sending it a sequence starting with the current piece.

// TODO
/* #region ðŸ todo
#endregion */
  // TODO: Also how could I tell "wand" that we came from "freaky flowers" so
  //       that audio-advancing somehow works... and how does auto-advance work
  //       with titles, etc.

// 0-128
const tokens = [
  "2022.11.22.13.12.16",
  "2022.11.20.11.42.50",
  "2022.11.20.11.45.22",
  "2022.11.20.11.52.27",
  "2022.11.20.12.02.09",
  "2022.11.20.12.09.14",
  "2022.11.20.12.33.20",
  "2022.11.20.12.43.56",
  "2022.11.20.12.50.55",
  "2022.11.20.12.59.23",
  "2022.11.20.13.04.28",
  "2022.11.20.13.21.21",
  "2022.11.20.13.41.27",
  "2022.11.20.13.49.40",
  "2022.11.20.14.16.40",
  "2022.11.20.14.27.09",
  "2022.11.20.14.53.20",
  "2022.11.20.15.17.42",
  "2022.11.20.15.32.51",
  "2022.11.20.15.42.14",
  "2022.11.20.15.47.59",
  "2022.11.20.16.34.34",
  "2022.11.20.16.42.02",
  "2022.11.20.16.50.58",
  "2022.11.20.17.09.10",
  "2022.11.20.17.16.14",
  "2022.11.21.01.29.33",
  "2022.11.21.01.39.04",
  "2022.11.21.01.52.50",
  "2022.11.21.02.06.24",
  "2022.11.21.02.15.40",
  "2022.11.21.02.26.35",
  "2022.11.21.09.25.44",
  "2022.11.21.02.49.15",
  "2022.11.21.02.59.15",
  "2022.11.21.03.10.36",
  "2022.11.21.03.32.46",
  "2022.11.21.03.39.51",
  "2022.11.21.03.51.34",
  "2022.11.21.04.01.36",
  "2022.11.21.04.10.08",
  "2022.11.21.04.55.19",
  "2022.11.21.05.10.15",
  "2022.11.21.05.19.00",
  "2022.11.21.05.34.14",
  "2022.11.21.05.40.56",
  "2022.11.21.05.48.45",
  "2022.11.21.05.54.00",
  "2022.11.21.06.00.23",
  "2022.11.21.06.08.31",
  "2022.11.21.06.14.44",
  "2022.11.21.06.48.51",
  "2022.11.21.07.04.19",
  "2022.11.21.07.10.17",
  "2022.11.21.07.16.21",
  "2022.11.21.07.24.09",
  "2022.11.21.07.40.05",
  "2022.11.21.07.48.06",
  "2022.11.21.07.53.56",
  "2022.11.21.08.00.30",
  "2022.11.21.08.05.45",
  "2022.11.21.09.37.38",
  "2022.11.21.09.48.14",
  "2022.11.21.10.04.06",
  "2022.11.21.10.05.39",
  "2022.11.21.10.14.05",
  "2022.11.21.10.42.13",
  "2022.11.21.10.49.52",
  "2022.11.21.10.58.25",
  "2022.11.21.11.09.41",
  "2022.11.21.11.16.36",
  "2022.11.21.11.35.40",
  "2022.11.21.11.44.11",
  "2022.11.21.12.16.51",
  "2022.11.21.12.22.16",
  "2022.11.21.12.27.03",
  "2022.11.21.12.37.54",
  "2022.11.21.12.44.38",
  "2022.11.21.12.50.22",
  "2022.11.21.12.59.38",
  "2022.11.21.13.11.20",
  "2022.11.21.16.20.47",
  "2022.11.21.16.25.24",
  "2022.11.21.16.32.25",
  "2022.11.21.16.41.08",
  "2022.11.21.16.52.06",
  "2022.11.21.17.02.01",
  "2022.11.21.17.09.15",
  "2022.11.21.17.17.40",
  "2022.11.21.17.42.51",
  "2022.11.21.17.50.54",
  "2022.11.21.18.10.15",
  "2022.11.22.11.21.20",
  "2022.11.21.18.21.23",
  "2022.11.22.03.11.31",
  "2022.11.22.03.21.43",
  "2022.11.23.04.51.09",
  "2022.11.22.03.31.20",
  "2022.11.22.03.42.00",
  "2022.11.22.03.51.47",
  "2022.11.22.04.14.05",
  "2022.11.22.04.39.52",
  "2022.11.22.04.47.34",
  "2022.11.22.04.55.40",
  "2022.11.22.05.06.56",
  "2022.11.22.05.22.39",
  "2022.11.22.05.30.31",
  "2022.11.22.05.37.07",
  "2022.11.22.05.42.35",
  "2022.11.22.05.54.23",
  "2022.11.22.06.01.44",
  "2022.11.22.06.23.02",
  "2022.11.22.06.47.21",
  "2022.11.22.06.58.34",
  "2022.11.22.07.07.23",
  "2022.11.22.07.35.54",
  "2022.11.22.07.18.05",
  "2022.11.22.07.39.12",
  "2022.11.22.07.52.45",
  "2022.11.22.08.03.50",
  "2022.11.22.08.10.58",
  "2022.11.22.08.25.12",
  "2022.11.22.08.31.13",
  "2022.11.22.08.42.29",
  "2022.11.22.08.51.38",
  "2022.11.22.09.06.47",
  "2022.11.22.09.16.45",
  "2022.11.22.09.24.32",
  "2022.11.22.09.33.26",
];

// ðŸ¥¾ Boot (Runs once before first paint and sim)
export function boot({ wipe, params, num: { randInt }, jump }) {
  // Perform basic setup here.
  // resize(50, 20); // Add a custom resolution.
  const param1 = parseInt(params[0]);
  const tokenID =
    typeof param1 === "number" ? param1 : randInt(tokens.length - 1);
  // console.log(tokenID, tokens.length - 1, jump);
  jump(`wand~${tokens[tokenID]}` + params.slice(1).map((p) => `~` + p).join(""), true, true);
  wipe(); // Note: Could I possibly nab the background color here for loading and
          //       carry it through to wand?
}